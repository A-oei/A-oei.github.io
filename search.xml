<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>css实现一个斜边</title>
    <url>/2020/03/16/css%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E6%96%9C%E8%BE%B9/</url>
    <content><![CDATA[<p>遇到这样一个问题，如何用<code>css</code>实现一个下面的效果</p>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/16/170e3051eba99ee7?w=1056&h=417&f=png&s=6264" alt=""></p>
<p>看着很复杂的问题，其实很简单，我们知道利用<code>css</code>的<code>border</code>是可以画出一个三角形的，例如</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test-wrap"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.test-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">50px</span> solid red;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">50px</span> solid blue;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">50px</span> solid green;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">50px</span> solid pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://user-gold-cdn.xitu.io/2020/3/16/170e30578fe86bf0?w=562&h=483&f=png&s=6056" alt=""></p>
<p>我们也可以通过不同的组合形式，例如</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.test-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">50px</span> solid red;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">50px</span> solid pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://user-gold-cdn.xitu.io/2020/3/16/170e3067a3286bd4?w=219&h=216&f=png&s=2080" alt=""><br>如果要实现在页面中展示一个三角形，那么我们可以稍微修改下代码，将<code>border-top</code>设置为<code>transparent</code>，就可以实现下面的效果</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.test-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">50px</span> solid pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://user-gold-cdn.xitu.io/2020/3/16/170e306b0ff321ca?w=212&h=201&f=png&s=1369" alt=""></p>
<p>了解了这个方法之后我们就可以转换一下思路来完成之前的问题，如何画出一个有斜线的图形，我们可以同时画两个三角，将两个三角叠加，下面一层的颜色设置为图形的<code>border</code>颜色，上面一层的三角设置为北京颜色，将下面的三角的尺寸设置的比上面的要大<code>1px</code>（可以根据<code>border</code>的宽度适当调整）就可以实现上面的效果</p>
<p>代码如下：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box-wrap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer-triangle"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner-triangle"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.outer-triangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">51px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">65px</span> solid black;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: -<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.inner-triangle</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">50px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">64px</span> solid <span class="number">#ffffff</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: -<span class="number">1px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>JQuery源码解析_整体结构</title>
    <url>/2020/03/15/JQuery%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90-%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<p>整体结构</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">window,undefined</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//代码</span></span><br><span class="line">&#125;(<span class="built_in">window</span>))</span><br></pre></td></tr></table></figure>

<p><code>JQuery</code>最外层使用的匿名函数自执行结构，为了最大程度避免代码污染，防止冲突</p>
<p>传入参数window的主要目的有两点</p>
<ol>
<li><p>在尾端传入的参数是实参，表明在函数执行时第一个参数是<code>window</code>，这样就避免了在内部使用<code>window</code>时再次去外层查找，在<code>javascript</code>中<code>window</code>属于最顶层的变量，而根据<code>javscript</code>原型链的查找原则，函数会优先查找本身的变量，在查找不到的情况下逐步向上查找，所以如果在<code>window</code>没有作为参数传入到函数内部的情况下，会从底层一直查找到最顶层，浪费大量性能，在形参中传入第二个参数<code>undefined</code>，主要是考虑到在低版本浏览器中<code>undefined</code>的值是可以改变的</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//IE7</span></span><br><span class="line"><span class="literal">undefined</span>=<span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span>); <span class="comment">//10</span></span><br></pre></td></tr></table></figure>

<p>在代码中我们可能会需要判断<code>变量值===undefined</code>的情况，为了避免我们获取的<code>undefined</code>的值是被改变过的值，我们在形参中传入一个参数，由于在实参中没有传入对应的值，那么这个值本身就是undefined，所以我们在使用undefined时就可以直接使用该值，而不用担心是否在操作改变过的undefined</p>
</li>
<li><p>为压缩代码做考虑，如果window不是参数而只是一个变量，那么window字段将无法被压缩，但如果只是作为形参的情况下可以被压缩为单字符，实际上我们看压缩后的代码。window被压缩成了e</p>
</li>
</ol>
<p><strong>JQuery返回的是一个对象</strong>，JQuery采用的是面向对象的写法，在我们平常使用面向对象的写法大概如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">A.prototype.init=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a=<span class="keyword">new</span> A();</span><br><span class="line">a.init();</span><br></pre></td></tr></table></figure>

<p>而在使用JQuery时我们不需要new $()的形式来调用是因为JQuery采用了工厂模式，使我们可以采用无”new”的形式来创建对象，大概写法如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">JQuery</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  rrturn <span class="keyword">new</span> Jquery.fn.init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样的好处在于</p>
<ol>
<li>我们直接执行了init的初始化方法</li>
<li>直接返回一个JQuery的对象，用户不需要调用new JQuery( )后再来调用JQuery的方法</li>
</ol>
<p>但我们会发现在JQuery中返回的是JQuery原型上的init方法，但是JQuery中的其他方法是写在JQuery的prototype上的，那么是如何在init上调用其它方法的呢，主要是通过下面代码</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//96行</span></span><br><span class="line">JQuery.fn=JQuery.prototype=&#123;</span><br><span class="line">  <span class="keyword">constructor</span>:JQuery,</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br><span class="line">//指定JQuery的fn就是JQuery的原型对象</span><br><span class="line"></span><br><span class="line">//283行</span><br><span class="line">JQuery.fn.init.prototype=JQuery.fn；</span><br></pre></td></tr></table></figure>

<p>JQuery通过将init的原型赋值为JQuery的原型，所以通过new JQuery.fn.init()出的对象可以直接使用JQuery原型上的方法</p>
<p>在8826行将JQuery对象挂载到window下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.JQuery=<span class="built_in">window</span>.$=JQuery;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
</search>
